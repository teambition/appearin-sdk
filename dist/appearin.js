!function(a,b){"use strict";"undefined"!=typeof exports?module.exports=b(require("jquery"),require("thunks")):"object"==typeof define&&define.amd?define(["jquery","thunks"],b):a.AppearIn=b(a.jQuery,a.thunks)}(this,function(a,b){function c(a){return a&&"/"!==a[0]&&(a="/"+a),a.trim().toLowerCase().replace(/\/*$/,"")}function d(a){var b=a||"stun:stun.l.google.com:19302",c={iceServers:[{url:b}]};try{var d=window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection,e=new d(c);return e&&!!e.iceConnectionState}catch(f){return!1}}function e(a,b){b=c(b),a.src=h+b}function f(a){a=a||{},a.debug&&(j=function(){return i(function(a){a(null,{roomName:"/sly-koala"})})})}var g="https://api.appear.in",h="https://appear.in",i=b(),j=function(b){return i(function(c){a.ajax(b).done(function(a,b,d){200!=d.status?c(a):c(null,a,b,d)}).fail(function(a,b,d){d=new Error(d),d.status=b,d.xhr=a,c(d)})})};return f.prototype.isWebRtcCompatible=function(){try{var a=!!document.createElement("video").canPlayType,b="probably"===document.createElement("video").canPlayType('video/webm; codecs="vp8", vorbis'),c=!!(navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.getUserMedia),e=!!(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection),f=d(this.stunServer);return a&&b&&c&&e&&f}catch(g){return!1}},f.prototype.getRandomRoomName=function(){return j({type:"POST",url:g+"/random-room-name",headers:{accept:"application/json, text/plain, */*"}})(function(a,b){if(a)throw new Error("Could not get random room name: ",a);return b.roomName})},f.prototype.addRoomToIframe=function(a,b){if(!a||!b)throw new Error("Missing parameters");e(a,b)},f.prototype.addRoomToElementById=function(a,b){if(!a||!b)throw new Error("Missing parameters");var c=document.getElementById(a);c&&e(c,b)},f});